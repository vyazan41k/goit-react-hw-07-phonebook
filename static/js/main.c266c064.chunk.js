(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{65:function(t,n,e){"use strict";e.r(n);var c=e(0),r=e.n(c),a=e(9),o=e.n(a),u=e(6),i=e(10),s=e(11),b=e(13),j=e(12),l=e(27),f=e.n(l),O=e(2),d=e(8),h=e.n(d),m=e(3),p=Object(m.b)("contacts/loadContactRequest"),v=Object(m.b)("contacts/loadContactSuccess"),C=Object(m.b)("contacts/loadContactError"),g=Object(m.b)("contacts/addContactRequest"),x=Object(m.b)("contacts/addContactSuccess"),y=Object(m.b)("contacts/addContactError"),S=Object(m.b)("contacts/deleteContactRequest"),k=Object(m.b)("contacts/deleteContactSuccess"),F=Object(m.b)("contacts/deleteContactError"),w=Object(m.b)("contacts/filter");h.a.defaults.baseURL="http://localhost:3000";var L,D,E=function(t){return function(n){var e={name:t.name,number:t.number};n(g()),h.a.post("/contacts",e).then((function(t){var e=t.data;return n(x(e))})).catch((function(t){return n(y(t))}))}},R=function(t){return function(n){n(S()),h.a.delete("/contacts/".concat(t)).then((function(){return n(k(t))})).catch((function(t){return n(F(t))}))}},q=function(){return function(t){t(p()),h.a.get("/contacts").then((function(n){var e=n.data;return t(v(e))})).catch((function(n){return t(C(n))}))}},N=e(1),T=function(t){Object(b.a)(e,t);var n=Object(j.a)(e);function e(){var t;Object(i.a)(this,e);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))).state={name:"",number:""},t.inputFormChange=function(n){var e=n.currentTarget,c=e.name,r=e.value;t.setState(Object(O.a)({},c,r))},t.formSubmit=function(n){n.preventDefault();var e=t.state,c=e.name,r=e.number;c||r?(t.props.contacts.items.find((function(t){return t.name===c}))?alert("".concat(t.state.name," is already in contacts.")):t.props.onSubmit(t.state),t.setState({name:"",number:""})):alert("No field is filled")},t}return Object(s.a)(e,[{key:"render",value:function(){return Object(N.jsxs)("form",{onSubmit:this.formSubmit,children:[Object(N.jsxs)("label",{children:["Name",Object(N.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.inputFormChange})]}),Object(N.jsxs)("label",{children:["Number",Object(N.jsx)("input",{type:"text",name:"number",value:this.state.number,onChange:this.inputFormChange})]}),Object(N.jsx)("button",{type:"submit",children:"Add contact"})]})}}]),e}(c.Component),A=Object(u.b)((function(t){return t}),(function(t){return{onSubmit:function(n){return t(E(n))}}}))(T),B=e(7),J=function(t){return t.contacts.filter},M=Object(B.a)([function(t){return t.contacts.items},J],(function(t,n){var e=n.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),V=Object(O.a)({getLoader:function(t){return t.contacts.loading},getValueFilter:J,getFilterContacts:M},"getFilterContacts",M),z=Object(u.b)((function(t){return{value:V.getValueFilter(t)}}),(function(t){return{onChange:function(n){return t(w(n.currentTarget.value))}}}))((function(t){var n=t.value,e=t.onChange;return Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{children:"Find contacts by name"}),Object(N.jsx)("input",{type:"text",value:n,onChange:e})]})})),I=Object(u.b)((function(t){return{contacts:V.getFilterContacts(t)}}),(function(t){return{deleteContact:function(n){return t(R(n))}}}))((function(t){var n=t.contacts,e=t.deleteContact;return Object(N.jsx)("ul",{children:n.map((function(t){var n=t.id,c=t.name,r=t.number;return Object(N.jsxs)("li",{children:[c,": ",r,Object(N.jsx)("button",{onClick:function(){return e(n)},children:"Delete"})]},n)}))})})),P=function(t){Object(b.a)(e,t);var n=Object(j.a)(e);function e(){return Object(i.a)(this,e),n.apply(this,arguments)}return Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.loadContacts()}},{key:"render",value:function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h3",{children:"Phonebook"}),Object(N.jsx)(A,{}),Object(N.jsx)("h3",{children:"Contacts"}),Object(N.jsx)(z,{}),this.props.loader?Object(N.jsx)(f.a,{size:15,color:"#36D7B7",margin:5}):Object(N.jsx)(I,{})]})}}]),e}(c.Component),U=Object(u.b)((function(t){return{loader:V.getLoader(t)}}),(function(t){return{loadContacts:function(){return t(q())}}}))(P),G=e(28),H=e(5),K=Object(m.c)([],(L={},Object(O.a)(L,v,(function(t,n){return n.payload})),Object(O.a)(L,x,(function(t,n){var e=n.payload;return[].concat(Object(G.a)(t),[e])})),Object(O.a)(L,k,(function(t,n){var e=n.payload;return t.filter((function(t){return t.id!==e}))})),L)),Q=Object(m.c)(!1,(D={},Object(O.a)(D,p,(function(){return!0})),Object(O.a)(D,v,(function(){return!1})),Object(O.a)(D,C,(function(){return!1})),Object(O.a)(D,g,(function(){return!0})),Object(O.a)(D,x,(function(){return!1})),Object(O.a)(D,y,(function(){return!1})),Object(O.a)(D,S,(function(){return!0})),Object(O.a)(D,k,(function(){return!1})),Object(O.a)(D,F,(function(){return!1})),D)),W=Object(m.c)("",Object(O.a)({},w,(function(t,n){return n.payload}))),X=Object(H.c)({items:K,filter:W,loading:Q}),Y=Object(m.a)({reducer:{contacts:X},devTools:!1});o.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(u.a,{store:Y,children:Object(N.jsx)(U,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.c266c064.chunk.js.map